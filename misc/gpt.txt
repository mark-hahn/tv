
how to have multiple copilot chats at once

support multiple downloads
- rename data/tv-recent.json to data/tv-finished.json
- create src/worker.js for worker code
- add const MAX_WORKERS = 2
- add field named worker to tv.json entry which is integer 1-9. worker fields are null at app load and when not being used by worker.
- no globals in workers
- tv.json is atomically shared by main and workers and is only shared data. inFlightDownloads is replaced by worker fields in tv.json entries. if you think other shared data is needed ask me first
- main.js is responsible for getting files from usb, running cycles, adding entries to tv.json, assigning entries to workers, and supporting endpoints.
- a worker is responsible for running rsync and updating tv.json progress

- add integer field named priority to tv.json entry that defaults to 0
- when setProc has a title put unixnow in priority
- each cycle main looks at entries with priority first and uses newest one
- priority field is persistant across boots

- don't use downloaded data directory information from disk except for filtering out torrents. a disk directory might be deleted by other processes but that torrent is still considered finished because tv-finished.json is authority on which torrents are finished

change logging in tv.log. only log:
- log starting worker and worker finished
- each log entry should be two-line groups with blank line and first line like:
"[<worker>] yy/mm/dd hh:mm:ss S01E01 <series name>
second line 
"<4 spaces> <size 0.123 GB> <duration mm:ss> <error?>"

what info is in job object that isn't in tv.json entry

when cycle is finished with no jobs waiting, log stats on tv.json for that cycle:
number of jobs. speed(size/seconds) for each worker. speed(size/seconds) for all jobs combined

when a worker is finished make sure to start another job if available. when a startproc is received make sure it is remembered until a worker is available.
